import{j as s}from"./jsx-runtime-uPnrnOgD.js";import{r as f}from"./iframe-CIHq7epQ.js";import{c as x}from"./utils-CDN07tui.js";import{a as C}from"./Icons-DSH5aCSV.js";const y=a=>a.replace(/\D/g,""),$=({id:a,label:p,error:o,required:q,disabled:T,name:j,className:D,inputClassName:v,count:A,value:b,onChange:F})=>{const n=Math.max(1,A),w=f.useRef([]),d=f.useMemo(()=>y(b).slice(0,n),[b,n]),m=f.useMemo(()=>{const e=new Array(n).fill("");for(let t=0;t<d.length;t+=1)e[t]=d[t];return e},[d,n]),N=f.useMemo(()=>Array.from({length:n},(e,t)=>({position:t,key:`${a}-digit-${t}`})),[a,n]),c=e=>{const t=[...m];e(t),F(t.join(""))},u=e=>{const t=w.current[e];t&&(t.focus(),t.select())},E=(e,t)=>{const r=y(t.currentTarget.value);if(!r){c(l=>{l[e]=""});return}c(l=>{let i=e;r.split("").forEach(h=>{i>=n||(l[i]=h,i+=1)});const g=Math.min(e+r.length,n-1);u(g)})},I=(e,t)=>{if(t.key==="Backspace"){t.preventDefault(),m[e]?c(r=>{r[e]=""}):e>0&&(c(r=>{r[e-1]=""}),u(e-1));return}if(t.key==="ArrowLeft"&&e>0){t.preventDefault(),u(e-1);return}t.key==="ArrowRight"&&e<n-1&&(t.preventDefault(),u(e+1))},M=(e,t)=>{t.preventDefault();const r=y(t.clipboardData.getData("text"));r&&c(l=>{let i=e;r.split("").forEach(h=>{i>=n||(l[i]=h,i+=1)});const g=Math.min(e+r.length,n-1);u(g)})};return s.jsxs("div",{className:x("flex w-full flex-col gap-2",D),children:[p&&s.jsxs("label",{htmlFor:a,className:"text-[16px] font-medium text-[#6F7A93]",children:[p,q&&s.jsx("span",{className:"text-[#EE9121]",children:"*"})]}),j?s.jsx("input",{type:"hidden",name:j,value:m.join("")}):null,s.jsx("div",{id:a,className:x("flex w-full items-center justify-between gap-2",T&&"cursor-not-allowed opacity-70"),children:N.map(({position:e,key:t})=>s.jsx("input",{ref:r=>{w.current[e]=r},type:"text",inputMode:"numeric",autoComplete:e===0?"one-time-code":"off",pattern:"\\d*",maxLength:1,value:m[e],"aria-invalid":!!o,"aria-describedby":o?`${a}-error`:void 0,onChange:r=>E(e,r),onFocus:r=>r.currentTarget.select(),onKeyDown:r=>I(e,r),onPaste:r=>M(e,r),disabled:T,className:x("h-12 w-12 rounded-md border border-[#C6D2DB] bg-[#F4F7F9] text-center text-[20px] font-semibold text-[#111827] outline-none transition focus:bg-white focus:shadow focus:ring-2 focus:ring-primary",o&&"border-[#FEA6A3] focus:ring-[#FEA6A3]",v),"aria-label":p?`${p} digit ${e+1}`:`Digit ${e+1}`},t))}),o&&s.jsxs("div",{id:`${a}-error`,className:"flex items-center gap-2 text-[14px] text-[#F4504B]",children:[s.jsx(C,{name:"info"}),s.jsx("span",{children:o})]})]})};$.__docgenInfo={description:"",methods:[],displayName:"TextInputOTP",props:{id:{required:!0,tsType:{name:"string"},description:""},count:{required:!0,tsType:{name:"number"},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},name:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""}}};export{$ as T};
