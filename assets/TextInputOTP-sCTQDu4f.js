import{j as a}from"./jsx-runtime-CChQA9tb.js";import{r as f}from"./iframe-D5OrQ5bS.js";import{c as h}from"./utils-CDN07tui.js";import{a as M}from"./Icons-DyZL75T8.js";const y=o=>o.replace(/\D/g,""),$=({id:o,label:m,error:c,required:j,disabled:v,name:b,className:T,inputClassName:w,count:q,value:F,onChange:N})=>{const s=Math.max(1,q),_=f.useRef([]),x=f.useMemo(()=>y(F).slice(0,s),[F,s]),u=f.useMemo(()=>{const e=new Array(s).fill("");for(let t=0;t<x.length;t+=1)e[t]=x[t];return e},[x,s]),A=f.useMemo(()=>Array.from({length:s},(e,t)=>({position:t,key:`${o}-digit-${t}`})),[o,s]),p=e=>{const t=[...u];e(t),N(t.join(""))},d=e=>{const t=_.current[e];t&&(t.focus(),t.select())},D=(e,t)=>{const r=y(t.currentTarget.value);if(!r){p(l=>{l[e]=""});return}p(l=>{let i=e;r.split("").forEach(g=>{i>=s||(l[i]=g,i+=1)});const n=Math.min(e+r.length,s-1);d(n)})},E=(e,t)=>{if(t.key==="Backspace"){t.preventDefault(),u[e]?p(r=>{r[e]=""}):e>0&&(p(r=>{r[e-1]=""}),d(e-1));return}if(t.key==="ArrowLeft"&&e>0){t.preventDefault(),d(e-1);return}t.key==="ArrowRight"&&e<s-1&&(t.preventDefault(),d(e+1))},I=(e,t)=>{t.preventDefault();const r=y(t.clipboardData.getData("text"));r&&p(l=>{let i=e;r.split("").forEach(g=>{i>=s||(l[i]=g,i+=1)});const n=Math.min(e+r.length,s-1);d(n)})};return a.jsxs("div",{className:h("flex w-full flex-col gap-2",T),children:[m&&a.jsxs("label",{htmlFor:o,className:"text-[16px] font-medium text-[#6F7A93]",children:[m,j&&a.jsx("span",{className:"text-[#EE9121]",children:"*"})]}),b?a.jsx("input",{type:"hidden",name:b,value:u.join("")}):null,a.jsx("div",{id:o,className:h("flex w-full items-center justify-between gap-4",v&&"cursor-not-allowed opacity-70"),children:A.map(({position:e,key:t})=>{const r=e===0,l=e===s-1,i=!u[e];return a.jsxs("div",{className:"relative h-12 w-12",children:[a.jsx("input",{ref:n=>{_.current[e]=n},type:"text",inputMode:"numeric",autoComplete:e===0?"one-time-code":"off",pattern:"\\d*",maxLength:1,value:u[e],"aria-invalid":!!c,"aria-describedby":c?`${o}-error`:void 0,onChange:n=>D(e,n),onFocus:n=>n.currentTarget.select(),onKeyDown:n=>E(e,n),onPaste:n=>I(e,n),disabled:v,className:h("h-12 w-12 min-h-[48px] py-2 px-4 border bg-[var(--neutral-lightest)] border-[var(--neutral-lighter)] text-center text-[20px] font-semibold text-[#111827] outline-none transition focus:bg-white focus:border-[var(--btn-outline-focus-border)] focus:shadow-[0px_0px_0px_3px_var(--neutral-lighter),0px_0px_1px_1px_#FFFFFF] focus:ring-0",r&&"rounded-l-2xl",l&&"rounded-r-2xl",c&&"border-[#FEA6A3] focus:border-[#FEA6A3] focus:shadow-[0px_0px_0px_3px_rgba(254,166,163,0.2),0px_0px_1px_1px_#FFFFFF]",w),"aria-label":m?`${m} digit ${e+1}`:`Digit ${e+1}`}),i&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center text-[var(--neutral-lighter)]",children:a.jsx("span",{className:"text-[24px] font-light",children:"âˆ’"})})]},t)})}),c&&a.jsxs("div",{id:`${o}-error`,className:"flex items-center gap-2 text-[14px] text-[#F4504B]",children:[a.jsx(M,{name:"info"}),a.jsx("span",{children:c})]})]})};$.__docgenInfo={description:"",methods:[],displayName:"TextInputOTP",props:{id:{required:!0,tsType:{name:"string"},description:""},count:{required:!0,tsType:{name:"number"},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},name:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""}}};export{$ as T};
