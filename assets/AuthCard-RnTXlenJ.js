import{j as e}from"./jsx-runtime-BGHlHzo0.js";import{R as h,r as p}from"./iframe-DEci3Ye8.js";import{c as w}from"./utils-CDN07tui.js";import{B as x}from"./Button-WoCQZ1h7.js";import{X as C,C as N}from"./Card-BdaKVZay.js";import{L as j}from"./Link-BmXrpKhA.js";import{S}from"./Switch-BM6DWjV6.js";import{L as P,I,T as y}from"./TextInput-DRs1amYW.js";import{T as E}from"./TextInputPhone-4J0Hm_1U.js";import{T}from"./TextInputOTP-BSYspiAF.js";import{B as q}from"./button-B7CplFX-.js";import{E as k,b as A}from"./Icons-BJFouonI.js";import{c as F}from"./createLucideIcon-CcHW9wpt.js";const R=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_=F("check",R);function m({when:r=!0,children:a}){let i=!1,o=null,l=null;return r?(h.Children.forEach(a,s=>{if(h.isValidElement(s)){if(s.type===m.Case){const n=s.props;!i&&n.when&&(i=!0,o=s)}s.type===m.Else&&(l=s)}}),o||l||null):(h.Children.forEach(a,s=>{h.isValidElement(s)&&s.type===m.Else&&(l=s)}),l||null)}m.Case=function({children:a}){return e.jsx(e.Fragment,{children:a})};m.Else=function({children:a}){return e.jsx(e.Fragment,{children:a})};function b(r){return e.jsx(x,{...r,type:"button",variant:"outline",prefixIcon:"google"})}b.__docgenInfo={description:"",methods:[],displayName:"GoogleButton",props:{signup:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentProps"]};const v=({label:r,requirements:a=[],...i})=>{const[o,l]=p.useState(!1),s=p.useId(),n=()=>l(t=>!t),c=a.map(t=>({met:t.regex.test(i.value),text:t.text})),u=p.useMemo(()=>c.filter(t=>t.met).length,[c]),d=t=>t===0?"bg-border":t<=1?"bg-destructive":t<=2?"bg-orange-500 ":t<=3?"bg-amber-500":t===4?"bg-yellow-400":"bg-green-500",g=t=>t===0?"Password must contain:":t<=2?"Weak password":t<=3?"Medium password":t===4?"Strong password":"Very strong password";return e.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[e.jsx(P,{htmlFor:s,children:r}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(I,{id:s,type:o?"text":"password",className:"pr-9",...i}),e.jsxs(q,{variant:"ghost",type:"button",size:"icon",onClick:n,className:"text-muted-foreground focus-visible:ring-ring/50 absolute inset-y-0 right-0 rounded-l-none hover:bg-transparent",children:[o?e.jsx(k,{}):e.jsx(A,{}),e.jsx("span",{className:"sr-only",children:o?"Hide password":"Show password"})]})]}),e.jsx("div",{className:"mb-4 flex h-1 w-full gap-1",children:Array.from({length:a.length}).map((t,f)=>e.jsx("span",{className:w("h-full flex-1 rounded-full transition-all duration-500 ease-out",f<u?d(u):"bg-border")},f.toString()))}),e.jsx("p",{className:"text-foreground text-sm font-medium",children:g(u)}),e.jsx("ul",{className:"mb-4 space-y-1.5",children:c.map((t,f)=>e.jsxs("li",{className:"flex items-center gap-2",children:[t.met?e.jsx(_,{className:"size-4 text-green-600 dark:text-green-400"}):e.jsx(C,{className:"text-muted-foreground size-4"}),e.jsxs("span",{className:w("text-xs",t.met?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:[t.text,e.jsx("span",{className:"sr-only",children:t.met?" - Requirement met":" - Requirement not met"})]})]},f.toString()))})]})};v.__docgenInfo={description:"",methods:[],displayName:"TextInputPassword",props:{label:{required:!1,tsType:{name:"string"},description:""},requirements:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  regex: RegExp;
  text: string;
}`,signature:{properties:[{key:"regex",value:{name:"RegExp",required:!0}},{key:"text",value:{name:"string",required:!0}}]}}],raw:`{
  regex: RegExp;
  text: string;
}[]`},description:"",defaultValue:{value:"[]",computed:!1}}}};const V=({onSignIn:r,onSignUp:a,onForgotPassword:i,onGoogleSignIn:o,onRequestOTP:l,onSignInWithPhone:s})=>{const[n,c]=p.useState("sign-in"),[u,d]=p.useState("email-password");return e.jsx(N,{className:"!border-2 border-white",mosaic:n==="sign-in"?"left":"right",footer:e.jsxs("div",{className:"flex flex-row items-center gap-2 h-4 relative",children:[e.jsx(j,{href:"/privacy-policy",className:"text-sm",children:"Policy"}),e.jsx("span",{children:"|"}),e.jsx(j,{href:"/terms-of-service",className:"text-sm",children:"Terms"}),e.jsx("span",{children:"|"}),e.jsx("span",{children:"Â© 2026 HANOUT"})]}),children:e.jsxs("div",{className:w("w-full min-h-[700px] max-h-[700px] overflow-y-auto p-4 px-16 flex flex-col items-center justify-start gap-4"),children:[e.jsx(S,{items:[{label:"Sign In",value:"sign-in"},{label:"Sign Up",value:"sign-up"}],value:n,onValueChange:g=>c(g)}),e.jsxs("div",{className:"py-4 w-full flex justify-start flex-col items-center px-28",children:[e.jsx("div",{className:"text-header text-center pb-8 w-full",children:e.jsx("span",{children:n==="sign-in"?"Sign In":n==="sign-up"?"Sign Up":"Forgot Password"})}),e.jsxs(m,{children:[e.jsx(m.Case,{when:n==="forgot-password",children:e.jsx(B,{onSubmit:i})}),e.jsx(m.Case,{when:u==="email-password",children:e.jsx(D,{action:n,onForgotPassword:()=>c("forgot-password"),onSubmit:(g,t)=>{n==="sign-in"?r(g,t):n==="sign-up"&&a(g,t)}})}),e.jsx(m.Case,{when:u==="phone-number",children:e.jsx(O,{onRequestOTP:l,onSubmit:s})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 w-full py-8",children:[e.jsx("div",{className:"w-full h-[1.5px] bg-[#2266D3]"}),e.jsx("span",{className:"px-2 text-[#2266D3] font-medium",children:"OR"}),e.jsx("div",{className:"w-full h-[1.5px] bg-[#2266D3]"})]}),e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx(b,{onClick:o,children:"Continue with Google"}),e.jsxs(m,{children:[e.jsx(m.Case,{when:u==="email-password",children:e.jsx(x,{type:"button",variant:"secondary",prefixIcon:"phone",onClick:()=>{d("phone-number"),n==="forgot-password"&&c("sign-in")},children:"Continue with Phone"})}),e.jsx(m.Case,{when:u==="phone-number",children:e.jsx(x,{type:"button",variant:"secondary",prefixIcon:"email",onClick:()=>{d("email-password"),n==="forgot-password"&&c("sign-in")},children:"Continue with Email"})})]})]})]})]})})},D=({action:r,onForgotPassword:a,onSubmit:i})=>{const[o,l]=p.useState(""),[s,n]=p.useState(""),[c,u]=p.useState("");return e.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:d=>{d.preventDefault(),i(o,s)},children:[e.jsx(y,{id:"email",placeholder:"Email",label:"Email",type:"email",value:o,onChange:d=>l(d.target.value),required:!0}),e.jsx(y,{id:"password",placeholder:"Password",label:"Password",type:"password",suffixIcon:"eye",value:s,onChange:d=>n(d.target.value),required:!0}),r==="sign-up"&&e.jsx(e.Fragment,{children:e.jsx(v,{id:"confirm_password",placeholder:"Confirm Password",label:"Confirm Password",value:c,onChange:d=>u(d.target.value),requirements:[{regex:/.{6,}/,text:"At least 6 characters"},{regex:/[a-z]/,text:"At least 1 lowercase letter"},{regex:/[A-Z]/,text:"At least 1 uppercase letter"},{regex:/[0-9]/,text:"At least 1 number"},{regex:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>/?]/,text:"At least 1 special character"}],required:!0})}),r==="sign-in"&&e.jsx(e.Fragment,{children:e.jsx(j,{href:"#",prefixIcon:"refresh",iconClassName:"size-4",className:"font-medium text-sm",onClick:a,children:"Forgot Password?"})}),e.jsx(x,{type:"submit","aria-label":r==="sign-in"?"Continue":"Register",suffixIcon:"arrow-right",children:r==="sign-in"?"Continue":"Register"})]})},O=({onRequestOTP:r,onSubmit:a})=>{const[i,o]=p.useState("phone-number"),[l,s]=p.useState(""),[n,c]=p.useState("+216"),[u,d]=p.useState(""),g=p.useMemo(()=>l.length!==8&&i==="phone-number"||u.length!==5&&i==="otp",[l,u,i]);return e.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:t=>{t.preventDefault(),a(l,n,u)},children:[e.jsxs(m,{children:[e.jsx(m.Case,{when:i==="phone-number",children:e.jsx(E,{id:"phone",placeholder:"Phone",label:"Phone",type:"tel",required:!0,value:l,onChange:t=>s(t.target.value),onCountryChange:t=>c(t.code),initialCountryCode:n})}),e.jsx(m.Case,{when:i==="otp",children:e.jsx(T,{id:"otp",count:5,value:u,onChange:t=>d(t),label:"OTP",required:!0})})]}),e.jsx(x,{title:g?"Please enter a valid phone number":"Continue",type:"submit",suffixIcon:"arrow-right","aria-disabled":g,disabled:g,onClick:async()=>{await r(l,n),o("otp")},children:"Continue"})]})},B=({onSubmit:r})=>{const[a,i]=p.useState("");return e.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:o=>{o.preventDefault(),r(a)},children:[e.jsx(y,{id:"email",placeholder:"Email",label:"Email",type:"email",required:!0,value:a,onChange:o=>i(o.target.value)}),e.jsx(x,{type:"submit",suffixIcon:"arrow-right",children:"Continue"})]})};V.__docgenInfo={description:"",methods:[],displayName:"AuthCard",props:{onSignIn:{required:!0,tsType:{name:"signature",type:"function",raw:"(email: string, password: string) => void",signature:{arguments:[{type:{name:"string"},name:"email"},{type:{name:"string"},name:"password"}],return:{name:"void"}}},description:""},onSignUp:{required:!0,tsType:{name:"signature",type:"function",raw:"(email: string, password: string) => void",signature:{arguments:[{type:{name:"string"},name:"email"},{type:{name:"string"},name:"password"}],return:{name:"void"}}},description:""},onForgotPassword:{required:!0,tsType:{name:"signature",type:"function",raw:"(email: string) => void",signature:{arguments:[{type:{name:"string"},name:"email"}],return:{name:"void"}}},description:""},onGoogleSignIn:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRequestOTP:{required:!0,tsType:{name:"signature",type:"function",raw:"(phone: string, code: string) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"phone"},{type:{name:"string"},name:"code"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onSignInWithPhone:{required:!0,tsType:{name:"signature",type:"function",raw:"(phone: string, code: string, otp: string) => void",signature:{arguments:[{type:{name:"string"},name:"phone"},{type:{name:"string"},name:"code"},{type:{name:"string"},name:"otp"}],return:{name:"void"}}},description:""}}};export{V as A};
